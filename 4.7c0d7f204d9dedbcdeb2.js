(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{vuQK:function(t,e,n){"use strict";n.r(e),n.d(e,"SearchModule",function(){return V});var i=n("ofXK"),o=n("sYmb"),a=n("SYYg"),s=n("wf0l"),c=n("9urI"),r=n("tyNb"),l=n("7o/Q"),d=n("D0XW");class g{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new h(t,this.dueTime,this.scheduler))}}class h extends l.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(m,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function m(t){t.debouncedNext()}var u=n("nYR2"),p=n("AytR");class b{constructor(){this.totalHits=null,this.total=null,this.hits=[]}}var f=n("fXoL");let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f.Eb({type:t,selectors:[["app-coming-soon"]],decls:2,vars:0,consts:[[1,"d-flex","align-items-center","justify-content-center","coming-soon"]],template:function(t,e){1&t&&(f.Pb(0,"div",0),f.wc(1,"Coming soon..."),f.Ob())},styles:[".coming-soon[_ngcontent-%COMP%] {\n\t\t\t\tmin-height: 300px;\n\t\t\t\tcolor: #5699d0;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tfont-size: 2rem;\n\t\t\t}"]}),t})();var _=n("1kSV"),O=n("tk/3"),v=n("VKHi");let C=(()=>{class t{constructor(t){this.apiService=t,this.itemPerPage=p.a.itemPerPage}search(t,e){const n=(new O.d).set("key",p.a.api_key).set("q",encodeURIComponent(t)).set("image_type","photo").set("pretty","true").set("page",e?e.toString():"1").set("per_page",this.itemPerPage).set("lang",localStorage.getItem("language"));return this.apiService.get("",n)}}return t.\u0275fac=function(e){return new(e||t)(f.Wb(v.a))},t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),M=(()=>{class t{constructor(){this.isLoading=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f.Eb({type:t,selectors:[["app-loader"]],inputs:{isLoading:"isLoading",message:"message"},decls:5,vars:1,consts:[[1,"loader",3,"hidden"],[1,"lds-loading"]],template:function(t,e){1&t&&(f.Pb(0,"div",0),f.Pb(1,"div",1),f.Lb(2,"div"),f.Lb(3,"div"),f.Lb(4,"div"),f.Ob(),f.Ob()),2&t&&f.gc("hidden",!e.isLoading)},styles:[".loader[_ngcontent-%COMP%]{text-align:center}.loader[_ngcontent-%COMP%]   .lds-loading[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:50px}.loader[_ngcontent-%COMP%]   .lds-loading[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:8px;width:10px;background:#5699d0;animation:lds-loading 1.2s cubic-bezier(0,.5,.5,1) infinite}.loader[_ngcontent-%COMP%]   .lds-loading[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{left:8px;animation-delay:-.24s}.loader[_ngcontent-%COMP%]   .lds-loading[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;animation-delay:-.12s}.loader[_ngcontent-%COMP%]   .lds-loading[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:56px;animation-delay:0}@keyframes lds-loading{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}"]}),t})(),w=(()=>{class t{constructor(){this.screen_lg="1200px",this.screen_md="992px",this.defaultImage="assets/placeholder.jpg"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f.Eb({type:t,selectors:[["app-image"]],inputs:{defaultImage:"defaultImage",image:"image",alt:"alt",maxHeight:"maxHeight",height:"height"},decls:4,vars:13,consts:[[3,"media"],[1,"lazyload-image",3,"defaultImage","lazyLoad","alt"]],template:function(t,e){1&t&&(f.Pb(0,"picture"),f.Lb(1,"source",0),f.Lb(2,"source",0),f.Lb(3,"img",1),f.Ob()),2&t&&(f.yb(1),f.ic("media","(min-width: ",e.screen_lg,")"),f.zb("defaultImage",e.defaultImage)("lazyLoad",e.image),f.yb(1),f.ic("media","(min-width: ",e.screen_md,")"),f.zb("defaultImage",e.defaultImage)("lazyLoad",e.image),f.yb(1),f.tc("height",e.height+"px")("max-height",e.maxHeight+"px"),f.gc("defaultImage",e.defaultImage)("lazyLoad",e.image)("alt",e.alt))},directives:[s.a],styles:[".lazyload-image[_ngcontent-%COMP%] {\n\t\t\t\twidth: 100%;\n\t\t\t\tmin-height: 100px;\n\t\t\t\tobject-fit: cover;\n\t\t\t}"]}),t})();const x=["imageContent"];function y(t,e){if(1&t&&(f.Pb(0,"span"),f.wc(1),f.Ob()),2&t){const t=f.bc();f.yb(1),f.yc("About ",t.totalItems," results")}}function I(t,e){if(1&t){const t=f.Qb();f.Pb(0,"div",11),f.Pb(1,"div",12),f.Zb("click",function(){return f.qc(t),f.bc().openDetail()}),f.Lb(2,"app-image",13),f.Ob(),f.Ob()}if(2&t){const t=e.$implicit;f.yb(2),f.gc("image",t.webformatURL)("height",300)("alt",t.tags)}}function S(t,e){1&t&&(f.Pb(0,"p",14),f.wc(1,"Sorry, No data avaiable"),f.Ob())}const L=[{path:"",component:(()=>{class t{constructor(t,e,n,i){this.activatedRoute=t,this.cdr=e,this.modal=n,this.imageService=i,this.keywords="",this.startIndex=1,this.totalItems=0,this.isLoading=!1,this.maxPage=p.a.max_page,this.fullSearchImages=new b,this.images=[]}ngOnInit(){this.activatedRoute.queryParams.subscribe(t=>{t.q&&(this.keywords=t.q),t.page&&(this.startIndex=Number(t.page)),this.keywords&&(this.fullSearchImages=new b,this.search(this.keywords,this.startIndex))})}search(t,e){this.isLoading=!0,this.imageService.search(t,e).pipe(function(t,e=d.a){return n=>n.lift(new g(t,e))}(300),Object(u.a)(()=>{this.isLoading=!1,this.cdr.detectChanges()})).subscribe(t=>{var e;this.totalItems=t.total,t&&t.hits&&(this.fullSearchImages.hits=[...this.fullSearchImages.hits,...t.hits],this.images=[...this.fullSearchImages.hits],null===(e=this.imageScroller)||void 0===e||e.refresh())})}onVsEnd(t){this.imageContent.nativeElement.style.height=t.maxScrollPosition+window.innerHeight+120+"px",this.fetchMore(t)}fetchMore(t){-1!==t.endIndex&&this.startIndex!==this.maxPage&&t.endIndex===this.images.length-1&&(this.startIndex>=this.totalItems||(this.fullSearchImages.hits&&(this.startIndex+=1),this.search(this.keywords,this.startIndex)))}openDetail(){this.modal.open(P,{centered:!0}).result.then(()=>{},()=>{})}}return t.\u0275fac=function(e){return new(e||t)(f.Kb(r.a),f.Kb(f.h),f.Kb(_.e),f.Kb(C))},t.\u0275cmp=f.Eb({type:t,selectors:[["app-search"]],viewQuery:function(t,e){if(1&t&&(f.Ac(x,1),f.Ac(a.a,1)),2&t){let t;f.nc(t=f.ac())&&(e.imageContent=t.first),f.nc(t=f.ac())&&(e.imageScroller=t.first)}},decls:11,vars:6,consts:[[1,"search-panel","animate__animated","animate__fadeIn"],[1,"container"],["imageContent",""],[1,"nav-search","navbar","navbar-expand","p-0"],[1,"mr-auto","results"],[4,"ngIf"],[1,"row",3,"items","parentScroll","vsEnd"],["imageScroller",""],["class","col-sm-6 col-md-4 col-lg-3 animate__animated animate__fadeIn",4,"ngFor","ngForOf"],["class","pt-4",4,"ngIf"],[1,"w-100",3,"isLoading"],[1,"col-sm-6","col-md-4","col-lg-3","animate__animated","animate__fadeIn"],[1,"search-item","shadow","border","mt-4",3,"click"],[3,"image","height","alt"],[1,"pt-4"]],template:function(t,e){if(1&t&&(f.Pb(0,"div",0),f.Pb(1,"div",1,2),f.Pb(3,"nav",3),f.Pb(4,"div",4),f.uc(5,y,2,1,"span",5),f.Ob(),f.Ob(),f.Pb(6,"virtual-scroller",6,7),f.Zb("vsEnd",function(t){return e.onVsEnd(t)}),f.uc(8,I,3,3,"div",8),f.Ob(),f.uc(9,S,2,0,"p",9),f.Ob(),f.Lb(10,"app-loader",10),f.Ob()),2&t){const t=f.oc(7);f.yb(5),f.gc("ngIf",e.totalItems),f.yb(1),f.gc("items",e.images)("parentScroll",t.window),f.yb(2),f.gc("ngForOf",t.viewPortItems),f.yb(1),f.gc("ngIf",!e.isLoading&&e.images&&0===e.images.length),f.yb(1),f.gc("isLoading",e.isLoading)}},directives:[i.l,a.a,i.k,M,w],styles:["virtual-scroller .scrollable-content{display:flex;flex-wrap:wrap;max-height:none!important}.search-panel[_ngcontent-%COMP%]{padding:1rem 0;border-top:1px solid #dee2e6}.nav-search[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.nav-search[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{color:#868e96;font-size:.9rem}.nav-search[_ngcontent-%COMP%]   .btn-mode[_ngcontent-%COMP%]{padding:.25rem;color:#868e96}.nav-search[_ngcontent-%COMP%]   .btn-mode.active[_ngcontent-%COMP%], .nav-search[_ngcontent-%COMP%]   .btn-mode[_ngcontent-%COMP%]:focus, .nav-search[_ngcontent-%COMP%]   .btn-mode[_ngcontent-%COMP%]:hover{box-shadow:none;outline:none;color:#5699d0}.search-item[_ngcontent-%COMP%]{cursor:pointer}.search-item[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.search-item.list-view[_ngcontent-%COMP%]{float:left;width:100%}.search-item.list-view[_ngcontent-%COMP%]   .search-image[_ngcontent-%COMP%]{margin-right:.75rem;max-width:300px}.search-item.list-view[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:0}.search-item.list-view[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:1rem}.search-item.list-view[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:.5rem}.search-item.list-view[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{color:#adb5bd}.search-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:300px;object-fit:cover}.search-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:.75rem}.search-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .view-title[_ngcontent-%COMP%]{width:calc(100% - 50px)}.search-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem}.search-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%], .search-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:26px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.search-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#868e96;font-size:.9rem}.search-item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{border:1px solid #5699d0;color:#5699d0;font-weight:600;padding:4px 8px;font-size:.9rem;line-height:normal;border-radius:3px}"],changeDetection:0}),t})(),data:{title:"Search"}}];let k=(()=>{class t{}return t.\u0275mod=f.Ib({type:t}),t.\u0275inj=f.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[r.d.forChild(L)],r.d]}),t})();var z=n("3Pt+");let V=(()=>{class t{}return t.\u0275mod=f.Ib({type:t}),t.\u0275inj=f.Hb({factory:function(e){return new(e||t)},providers:[{provide:"virtual-scroller-default-options",useValue:{checkResizeInterval:1e3,modifyOverflowStyleOfParentScroll:!0,resizeBypassRefreshThreshold:5,scrollAnimationTime:750,scrollDebounceTime:0,scrollThrottlingTime:0,stripedTable:!1}}],imports:[[i.c,z.f,o.b,a.b,s.b,c.a,k]]}),t})()}}]);